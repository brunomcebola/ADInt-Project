{% extends 'layout.html' %} {% block content %}
<div class="list">
  <div class="header">
    <h2>Activity types</h2>

    <a href="/activity/create-type">
      <button class="primary">Create activity type</button>
    </a>
  </div>
  
  <table>
    <thead>
      <tr>
        <th>Type ID</th>
        <th>Type Name</th>
        <th>Sub Type ID</th>
        <th>Sub Type Name</th>
        <th>Is External</th>
        <th>External DB</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for activity in activities %}
      <tr>
        <td>{{activity.type_id}}</td>
        <td>{{activity.type_name}}</td>
        <td>{{activity.sub_type_id}}</td>
        <td>{{activity.sub_type_name}}</td>
        <td>{{activity.is_external}}</td>
        <td>{{activity.external_db}}</td>
        <td>
          <a href={{"/activity/%d/delete" % activity.id}}><button class="danger">Delete activity type</button></a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <div class="header">
    <h2> Students' Activities</h2>
  </div>
  
  {% if show_filters %}
  <form class="filters" action="/activities" method="post">
    <div>
      <p>Type</p>
      <input type="checkbox" name="filter_type"/>
      <select name="type_id">
        {% for type in activities_types %}
        <option value={{type["value"]}}>{{type["name"]}}</option>
        {% endfor %}
      </select>
    </div>
  
    <div>
      <p>Sub Type</p>
      <input type="checkbox" name="filter_sub_type"/>
      <select name="sub_type_id">
        {% for sub_type in activities_sub_types %}
        <option value={{sub_type["value"]}}>{{sub_type["name"]}}</option>
        {% endfor %}
      </select>
    </div>
  
    <div>
      <p>Course/Service</p>
      <input type="checkbox" name="filter_external"/>
      <select name="external_id">
        {% for external in externals %}
        <option value={{external["value"]}}>{{external["name"]}}</option>
        {% endfor %}
      </select>
    </div>
  
    <div>
      <p>Studend id</p>
      <input type="checkbox" name="filter_student"/>
      <input type="text" name="student_id"/>
    </div>

    <br>
  
    <input type="submit" value="Filter" />
  </form>
  {% endif %}

  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Type</th>
        <th>Sub Type</th>
        <th>Course/Service</th>
        <th>Student ID</th>
        <th>Start Time</th>
        <th>Stop Time</th>
        <th>Description</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for activity in activities %}
      <tr>
        <td>{{activity.id}}</td>
        <td>{{activity.type_name}}</td>
        <td>{{activity.sub_type_name}}</td>
        <td>{{activity.external_name}}</td>
        <td>{{activity.student_id}}</td>
        <td>{{activity.start_time}}</td>
        <td>{{activity.stop_time}}</td>
        <td>{{activity.description}}</td>
        <td>
          <a href={{"/activity/%d/delete" % activity.id}}><button class="danger">Delete activity</button></a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  
</div>

{% endblock %}
